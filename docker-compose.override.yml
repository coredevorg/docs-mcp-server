# Local development overrides
# This file is gitignored and contains local customizations
# It automatically extends docker-compose.yml

version: '3.8'

services:
  worker:
    # Use locally built image instead of pulling from registry
    image: docs-mcp-server:local
    # Custom port to avoid conflicts with other services
    ports:
      - "6270:8080"
    # Mount local docs directory for scraping local files
    # Mount data directory for portable SQLite database
    volumes:
      - ${HOME}/docs-mcp-server/docs:/app/docs:ro
      - ${HOME}/docs-mcp-server/data:/data

  mcp:
    # Use locally built image instead of pulling from registry
    image: docs-mcp-server:local
    # Custom port to avoid conflicts with other services
    ports:
      - "6290:6280"

  web:
    # Use locally built image instead of pulling from registry
    image: docs-mcp-server:local
    # Custom port to avoid conflicts with other services
    ports:
      - "6280:6281"
